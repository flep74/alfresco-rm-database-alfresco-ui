<md-card>
    <md-card-title>
        <md-card-title-text>
            <span class="md-headline">Historik</span>
        </md-card-title-text>
    </md-card-title>
    <md-card-content>
        <div layout="row">
            <md-input-container flex>
                <label>Sagen oprettet</label>
                <md-datepicker ng-model="case.creationDate" ng-disabled="!editPatientData" required></md-datepicker>
            </md-input-container>
        </div>


        <div ng-hide="vm.afslutwarning_observationDate">
        <div layout="row">
            <md-input-container flex>
                <label>Observation påbegyndt</label>
                <md-datepicker ng-model="case.observationDate" ng-disabled="!editPatientData"></md-datepicker>
            </md-input-container>
            <span style="float:right" ng-show="case.waiting_passive">
                {{case.waiting_passive}}
                <md-icon class="icon-small">
                    info_outline
                    <md-tooltip md-direction="top">Passiv ventetid</md-tooltip>
                </md-icon>
            </span>
        </div>
        </div>

        <div ng-show="vm.afslutwarning_observationDate">
            <div class="ghostbusters">
            <div layout="row">
                <md-input-container flex>
                    <label>Observation påbegyndt</label>
                    <md-datepicker ng-model="case.observationDate" ng-disabled="!editPatientData"></md-datepicker>
                </md-input-container>
                <span style="float:right" ng-show="case.waiting_passive">
                {{case.waiting_passive}}
                <md-icon class="icon-small">
                    info_outline
                    <md-tooltip md-direction="top">Passiv ventetid</md-tooltip>
                </md-icon>
            </span>
            </div>
        </div>
        </div>


        <div ng-hide="vm.afslutwarning_declarationDate">
        <div layout="row">
            <md-input-container flex>
                <label>Erklæring afgivet</label>
                <md-datepicker ng-model="case.declarationDate" ng-disabled="!editPatientData"></md-datepicker>
            </md-input-container>
            <span style="float:right" ng-show="case.waiting_active">
                {{case.waiting_active}}
                <md-icon class="icon-small">
                    info_outline
                    <md-tooltip md-direction="top">Aktiv ventetid</md-tooltip>
                </md-icon>
            </span>
        </div>
        </div>

        <div ng-show="vm.afslutwarning_declarationDate">
            <div class="ghostbusters">
            <div layout="row">
                <md-input-container flex>
                    <label>Erklæring afgivet</label>
                    <md-datepicker ng-model="case.declarationDate" ng-disabled="!editPatientData"></md-datepicker>
                </md-input-container>
                <span style="float:right" ng-show="case.waiting_active">
                {{case.waiting_active}}
                <md-icon class="icon-small">
                    info_outline
                    <md-tooltip md-direction="top">Aktiv ventetid</md-tooltip>
                </md-icon>
            </span>
            </div>
        </div>
        </div>

        <div layout="row">
            <span flex></span>
            <span ng-show="case.waiting_total">
                <strong>{{case.waiting_total}}</strong>
                <md-icon class="icon-small">
                    info_outline
                    <md-tooltip md-direction="top">Samlet ventetid</md-tooltip>
                </md-icon>
            </span>
        </div>

        <div layout="column">
            <span ng-show="case.closed && !case.closedWithoutDeclaration">Afsluttet</span>
            <div ng-show="case.closedWithoutDeclaration">
                <span style="padding-top:16px" ng-show="case.hasOwnProperty('closedWithoutDeclarationReason')">Afsluttet
                    uden erklæring: {{case.closedWithoutDeclarationReason}}</span><br>

                <span style="padding-top:16px" ng-show="case.hasOwnProperty('returnOfDeclarationDate')">Dato: {{case.returnOfDeclarationDate | customDate }}</span><br>


                <span style="padding:16px 0" ng-show="case.hasOwnProperty('closedWithoutDeclarationSentTo')">Sendt til:
                    {{case.closedWithoutDeclarationSentTo}}</span>
            </div>
        </div>
    </md-card-content>
</md-card>
